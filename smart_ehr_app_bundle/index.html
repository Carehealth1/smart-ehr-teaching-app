
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CareHealth SMART App Launcher</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 24px; }
    label, select, button { font-size: 16px; }
  </style>
</head>
<body>
  <h1>CareHealth Insurance Teaching App (SMART on FHIR)</h1>
  <p>Select a FHIR server and launch the app via SMART Launcher.</p>
  <ol>
    <li>Deploy this site publicly (GitHub Pages, Vercel, etc.).</li>
    <li>Copy the URL of <code>mock_ehr_viewer.html</code>.</li>
    <li>Paste it into <a href="https://launch.smarthealthit.org" target="_blank">launch.smarthealthit.org</a> as the App Launch URL.</li>
  </ol>

  <h2>Quick Test Links</h2>
  <p class="muted">These open the SMART launcher prefilled with your app URL once hosted.</p>

  <label for="appUrl">Your hosted app URL:</label>
  <input id="appUrl" style="width: 480px;" placeholder="https://<username>.github.io/<repo>/mock_ehr_viewer.html" />
  <button id="open">Open SMART Launcher</button>

  <script>
    document.getElementById('open').addEventListener('click', () => {
      const app = document.getElementById('appUrl').value.trim();
      if (!app) { alert('Enter your hosted app URL first.'); return; }
      // Open the SMART launcher with your app URL; rest is selected on the launcher site
      window.open('https://launch.smarthealthit.org/?auth_error=&fhir_version_1=r4&launch_ehr=1&provider_default=&patient=&s=0&api_metadata=&app=' + encodeURIComponent(app), '_blank');
    });
  </script>
</body>
</html>
